<div id="general" class="section level2">
<h2>General</h2>
<p>Chain-linking is obtained by multiplying each annual link as an index by the chain accumulated up until the previous year. The chain obtained using this method is obviously an index number. Therefore, its conversion to monetary terms is performed by multiplying it by the value at current prices for a specific year, called “reference year”.</p>
<p><strong>Source:</strong> <a href="http://www.ine.es/en/daco/daco42/cne00/medic_vol_encad_b2000_en.pdf">INE</a></p>
</div>
<div id="objective" class="section level2">
<h2>Objective</h2>
<p>Calculate previous year price <code>VKPY</code> and chained volume <code>VALK</code> series from current prices <code>VALU</code> and chained index <code>VKOT</code> series</p>
</div>
<div id="data-examples" class="section level2">
<h2>Data Examples</h2>
<div id="chained-laspeyres-example-sweden" class="section level3">
<h3>Chained Laspeyres example: Sweden</h3>
<ul>
<li>data source: SWE Eurostat, Manufacturing Industries (C) Value-added (at basic prices)</li>
<li>reference year 2010 (for comparison with Eurostat data)</li>
</ul>
<pre class="r"><code>data_csv_init %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;Initial Data&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-7220" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-7220">{"x":{"attrs":{"title":"Initial Data","ylabel":"Billion SEK","labels":["year","VALU","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z","2012-01-01T00:00:00Z","2013-01-01T00:00:00Z"],[116.951,122.165,133.813,153.184,180.055,197.248,213.226,228.796,246.315,264.344,271.973,267.733,257.924,266.056,310.787,375.062,373.83,398.587,424.91,442.989,483.474,479.057,482.92,491.802,512.055,525.68,562.244,597.176,570.497,499.889,575.259,588.552,559.308,null],[null,34.3,34.2,36.2,39.6,40.8,41.1,42,43.3,43.4,42.7,41,39.4,39.6,45.9,52.2,53.9,58.6,63.8,68.8,75.5,74.8,78.2,81.7,89.2,92.7,100.2,104.4,101.3,81.4,100,104.9,97.3,null]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv_valk &lt;- data_csv_init %&gt;%
    mutate(VALK=stan::cpIdxCl(data=data_csv_init, var.cp=&quot;VALU&quot;, var.idx=&quot;VKOT&quot;, id.vars=&quot;ind&quot;, refyear=2010))
data_csv_valk %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;Intermediate Data (including VALK)&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-2461" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-2461">{"x":{"attrs":{"title":"Intermediate Data (including VALK)","ylabel":"Billion SEK","labels":["year","VALU","VALK","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z","2012-01-01T00:00:00Z","2013-01-01T00:00:00Z"],[116.951,122.165,133.813,153.184,180.055,197.248,213.226,228.796,246.315,264.344,271.973,267.733,257.924,266.056,310.787,375.062,373.83,398.587,424.91,442.989,483.474,479.057,482.92,491.802,512.055,525.68,562.244,597.176,570.497,499.889,575.259,588.552,559.308,null],[null,197.313837,196.738578,208.243758,227.802564,234.705672,236.431449,241.60878,249.087147,249.662406,245.635593,235.85619,226.652046,227.802564,264.043881,300.285198,310.064601,337.101774,367.015242,395.778192,434.320545,430.293732,449.852538,469.986603,513.131028,533.265093,576.409518,600.570396,582.737367,468.260826,575.259,603.446691,559.727007,null],[null,34.3,34.2,36.2,39.6,40.8,41.1,42,43.3,43.4,42.7,41,39.4,39.6,45.9,52.2,53.9,58.6,63.8,68.8,75.5,74.8,78.2,81.7,89.2,92.7,100.2,104.4,101.3,81.4,100,104.9,97.3,null]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv_valk %&gt;%
    mutate(VKPY=stan::cpVolPyp(data=data_csv_valk, var.cp=&quot;VALU&quot;, var.cl=&quot;VALK&quot;, id.vars=&quot;ind&quot;)) %&gt;%
        df2xts() %&gt;% dygraph_vignette(main=&quot;Final Data (including VKPY)&quot;, ylab=y_lab) %&gt;%
            dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-2394" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-2394">{"x":{"attrs":{"title":"Final Data (including VKPY)","ylabel":"Billion SEK","labels":["year","VALU","VALK","VKPY","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z","2012-01-01T00:00:00Z","2013-01-01T00:00:00Z"],[116.951,122.165,133.813,153.184,180.055,197.248,213.226,228.796,246.315,264.344,271.973,267.733,257.924,266.056,310.787,375.062,373.83,398.587,424.91,442.989,483.474,479.057,482.92,491.802,512.055,525.68,562.244,597.176,570.497,499.889,575.259,588.552,559.308,null],[null,197.313837,196.738578,208.243758,227.802564,234.705672,236.431449,241.60878,249.087147,249.662406,245.635593,235.85619,226.652046,227.802564,264.043881,300.285198,310.064601,337.101774,367.015242,395.778192,434.320545,430.293732,449.852538,469.986603,513.131028,533.265093,576.409518,600.570396,582.737367,468.260826,575.259,603.446691,559.727007,null],[null,null,121.808833819242,141.638321637427,167.571447513812,185.511212121212,198.698352941176,217.895182481752,235.877780952381,246.883856812933,260.080387096774,261.145035128806,257.284882926829,259.233258883249,308.383090909091,353.444039215686,387.276662835249,406.427421150278,433.956494880546,458.210156739812,486.128917151163,478.991459602649,500.832318181818,504.534066496164,536.949062423501,532.146844170403,568.21074433657,585.811113772455,579.443762452107,458.425032576505,614.114250614251,603.446691,545.911435653003,null],[null,34.3,34.2,36.2,39.6,40.8,41.1,42,43.3,43.4,42.7,41,39.4,39.6,45.9,52.2,53.9,58.6,63.8,68.8,75.5,74.8,78.2,81.7,89.2,92.7,100.2,104.4,101.3,81.4,100,104.9,97.3,null]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;Eurostat Data (for comparison)&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;) %&gt;%
            dySeries(&quot;EUNAMA10R2_VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-9363" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-9363">{"x":{"attrs":{"title":"Eurostat Data (for comparison)","ylabel":"Billion SEK","labels":["year","cou","EUNAMA10R2_VALK","EUNAMA10R2_VALU","EUNAMA10R2_VKPY","VALU","VKOT","EUNAMA10R2_VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"},"EUNAMA10R2_VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z","2012-01-01T00:00:00Z","2013-01-01T00:00:00Z"],["SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE","SWE"],[null,null,null,null,null,null,null,null,null,null,null,null,null,"227.655","263.940","300.071","310.335","337.361","366.826","396.031","434.223","430.484","450.039","470.156","513.206","532.987","576.422","600.359","582.828","468.437","575.259","603.579","559.797","555.229"],[null,null,null,null,null,null,null,null,null,null,null,null,null,"266.056","310.787","375.062","373.830","398.587","424.910","442.989","483.474","479.057","482.920","491.802","512.055","525.680","562.244","597.176","570.497","499.889","575.259","588.552","559.308","549.567"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"308.462","353.331","387.891","406.386","433.399","458.739","485.710","479.311","500.818","504.507","536.834","531.792","568.519","585.592","579.738","458.526","613.883","603.579","545.860","554.744"],["116.951","122.165","133.813","153.184","180.055","197.248","213.226","228.796","246.315","264.344","271.973","267.733","257.924","266.056","310.787","375.062","373.830","398.587","424.910","442.989","483.474","479.057","482.920","491.802","512.055","525.680","562.244","597.176","570.497","499.889","575.259","588.552","559.308",null],[null," 34.3"," 34.2"," 36.2"," 39.6"," 40.8"," 41.1"," 42.0"," 43.3"," 43.4"," 42.7"," 41.0"," 39.4"," 39.6"," 45.9"," 52.2"," 53.9"," 58.6"," 63.8"," 68.8"," 75.5"," 74.8"," 78.2"," 81.7"," 89.2"," 92.7","100.2","104.4","101.3"," 81.4","100.0","104.9"," 97.3",null],[null,null,null,null,null,null,null,null,null,null,null,null,null," 39.6"," 45.9"," 52.2"," 53.9"," 58.6"," 63.8"," 68.8"," 75.5"," 74.8"," 78.2"," 81.7"," 89.2"," 92.7","100.2","104.4","101.3"," 81.4","100.0","104.9"," 97.3"," 96.5"]]},"evals":[]}</script></p>
</div>
<div id="chained-fisher-example-usa" class="section level3">
<h3>Chained Fisher example: USA</h3>
<ul>
<li>data source: USA BEA, Total Economy Value-added (at market prices incl. VAT)</li>
<li>reference year 2005 (for comparison with SAS-generated data)</li>
</ul>
<pre class="r"><code>data_csv_init %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;Initial Data&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-1515" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-1515">{"x":{"attrs":{"title":"Initial Data","ylabel":"Billion USD","labels":["year","VALU","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1971-01-01T00:00:00Z","1972-01-01T00:00:00Z","1973-01-01T00:00:00Z","1974-01-01T00:00:00Z","1975-01-01T00:00:00Z","1976-01-01T00:00:00Z","1977-01-01T00:00:00Z","1978-01-01T00:00:00Z","1979-01-01T00:00:00Z","1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z"],[1126.817,1237.885,1382.269,1499.452,1637.7,1824.583,2030.13,2293.762,2562.228,2788.143,3126.837,3253.194,3534.606,3930.895,4217.47,4460.067,4736.354,5100.422,5482.146,5800.527,5992.094,6342.306,6667.35,7085.16,7414.655,7838.456,8332.362,8793.495,9353.484,9951.482,10286.167,10642.316,11142.212,11853.254,12622.959,13377.215,14028.675,14291.543,13973.681,14498.922,15075.667],[0.34932,0.36788,0.3892,0.38705,0.38623,0.40695,0.42566,0.4494,0.46345,0.46217,0.4739,0.4647,0.4857,0.5206,0.54214,0.56092,0.57887,0.60266,0.6242,0.63591,0.63442,0.65595,0.67466,0.70214,0.7198,0.74672,0.78,0.81397,0.85326,0.88857,0.89816,0.91445,0.93769,0.97021,1,1.02658,1.04622,1.0427,1.01069,1.03486,1.05356]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv_valk &lt;- data_csv_init %&gt;%
    mutate(VALK=stan::cpIdxCl(data=data_csv_init, var.cp=&quot;VALU&quot;, var.idx=&quot;VKOT&quot;, id.vars=&quot;ind&quot;, refyear=2005))
data_csv_valk %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;Intermediate Data (including VALK)&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-4905" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-4905">{"x":{"attrs":{"title":"Intermediate Data (including VALK)","ylabel":"Billion USD","labels":["year","VALU","VALK","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1971-01-01T00:00:00Z","1972-01-01T00:00:00Z","1973-01-01T00:00:00Z","1974-01-01T00:00:00Z","1975-01-01T00:00:00Z","1976-01-01T00:00:00Z","1977-01-01T00:00:00Z","1978-01-01T00:00:00Z","1979-01-01T00:00:00Z","1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z"],[1126.817,1237.885,1382.269,1499.452,1637.7,1824.583,2030.13,2293.762,2562.228,2788.143,3126.837,3253.194,3534.606,3930.895,4217.47,4460.067,4736.354,5100.422,5482.146,5800.527,5992.094,6342.306,6667.35,7085.16,7414.655,7838.456,8332.362,8793.495,9353.484,9951.482,10286.167,10642.316,11142.212,11853.254,12622.959,13377.215,14028.675,14291.543,13973.681,14498.922,15075.667],[4409.45203788,4643.73415692,4912.8556428,4885.71628095,4875.36545457,5136.91316505,5373.08872794,5672.7577746,5850.11034855,5833.95296103,5982.0202701,5865.8890473,6130.9711863,6571.5124554,6843.41099226,7080.47016228,7307.05227633,7607.35247094,7879.2510078,8027.06585769,8008.25764878,8280.02995605,8516.20551894001,8863.08443226001,9086.00588820001,9425.81594448001,9845.90802,10274.70993723,10770.66599634,11216.38267863,11337.43685544,11543.06485755,11836.42242471,12246.92105139,12622.959,12958.47725022,13206.39216498,13161.9593493,12757.89843171,13062.99535074,13299.04468404],[0.34932,0.36788,0.3892,0.38705,0.38623,0.40695,0.42566,0.4494,0.46345,0.46217,0.4739,0.4647,0.4857,0.5206,0.54214,0.56092,0.57887,0.60266,0.6242,0.63591,0.63442,0.65595,0.67466,0.70214,0.7198,0.74672,0.78,0.81397,0.85326,0.88857,0.89816,0.91445,0.93769,0.97021,1,1.02658,1.04622,1.0427,1.01069,1.03486,1.05356]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv_valk %&gt;%
    mutate(VKPY=stan::cpVolPyp(data=data_csv_valk, var.cp=&quot;VALU&quot;, var.cl=&quot;VALK&quot;, id.vars=&quot;ind&quot;)) %&gt;%
        df2xts() %&gt;% dygraph_vignette(main=&quot;Final Data (including VKPY)&quot;, ylab=y_lab) %&gt;%
            dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-8281" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-8281">{"x":{"attrs":{"title":"Final Data (including VKPY)","ylabel":"Billion USD","labels":["year","VALU","VALK","VKPY","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1971-01-01T00:00:00Z","1972-01-01T00:00:00Z","1973-01-01T00:00:00Z","1974-01-01T00:00:00Z","1975-01-01T00:00:00Z","1976-01-01T00:00:00Z","1977-01-01T00:00:00Z","1978-01-01T00:00:00Z","1979-01-01T00:00:00Z","1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z"],[1126.817,1237.885,1382.269,1499.452,1637.7,1824.583,2030.13,2293.762,2562.228,2788.143,3126.837,3253.194,3534.606,3930.895,4217.47,4460.067,4736.354,5100.422,5482.146,5800.527,5992.094,6342.306,6667.35,7085.16,7414.655,7838.456,8332.362,8793.495,9353.484,9951.482,10286.167,10642.316,11142.212,11853.254,12622.959,13377.215,14028.675,14291.543,13973.681,14498.922,15075.667],[4409.45203788,4643.73415692,4912.8556428,4885.71628095,4875.36545457,5136.91316505,5373.08872794,5672.7577746,5850.11034855,5833.95296103,5982.0202701,5865.8890473,6130.9711863,6571.5124554,6843.41099226,7080.47016228,7307.05227633,7607.35247094,7879.2510078,8027.06585769,8008.25764878,8280.02995605,8516.20551894001,8863.08443226001,9086.00588820001,9425.81594448001,9845.90802,10274.70993723,10770.66599634,11216.38267863,11337.43685544,11543.06485755,11836.42242471,12246.92105139,12622.959,12958.47725022,13206.39216498,13161.9593493,12757.89843171,13062.99535074,13299.04468404],[null,1186.68681426772,1309.62499184517,1374.63313579137,1496.27527699264,1725.55734924786,1908.47032750952,2143.35484189259,2365.47396283934,2555.15139661236,2858.9068258433,3066.13453028065,3400.20728599096,3788.58530697962,4093.53710199769,4363.56526432287,4602.79359675177,4931.00540991933,5282.71896658149,5584.9911292214,5786.93579176299,6195.44475158412,6523.21086357192,6938.92201849821,7263.36367106275,7691.95774048347,8187.80222841225,8695.24704761538,9217.95341806209,9740.55420139231,10058.8845821038,10472.7280363744,10912.7817705069,11528.6347348484,12217.2045227322,12958.47725022,13633.1409897913,13981.4756193726,13852.8048284933,14307.8525756266,14760.9186385791],[0.34932,0.36788,0.3892,0.38705,0.38623,0.40695,0.42566,0.4494,0.46345,0.46217,0.4739,0.4647,0.4857,0.5206,0.54214,0.56092,0.57887,0.60266,0.6242,0.63591,0.63442,0.65595,0.67466,0.70214,0.7198,0.74672,0.78,0.81397,0.85326,0.88857,0.89816,0.91445,0.93769,0.97021,1,1.02658,1.04622,1.0427,1.01069,1.03486,1.05356]]},"evals":[]}</script></p>
<pre class="r"><code>data_csv %&gt;% select(-VALP) %&gt;%
    df2xts() %&gt;% dygraph_vignette(main=&quot;SAS-generated Data (for comparison)&quot;, ylab=y_lab) %&gt;%
        dySeries(&quot;VKOT&quot;, axis=&#39;y2&#39;)</code></pre>
<p><div id="htmlwidget-3792" style="width:768px;height:432px;" class="dygraphs"></div>
<script type="application/json" data-for="htmlwidget-3792">{"x":{"attrs":{"title":"SAS-generated Data (for comparison)","ylabel":"Billion USD","labels":["year","VALK","VALU","VKPY","VKOT"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":50}},"legend":"onmouseover","labelsDivWidth":550,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"series":{"VKOT":{"axis":"y2"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"data":[["1971-01-01T00:00:00Z","1972-01-01T00:00:00Z","1973-01-01T00:00:00Z","1974-01-01T00:00:00Z","1975-01-01T00:00:00Z","1976-01-01T00:00:00Z","1977-01-01T00:00:00Z","1978-01-01T00:00:00Z","1979-01-01T00:00:00Z","1980-01-01T00:00:00Z","1981-01-01T00:00:00Z","1982-01-01T00:00:00Z","1983-01-01T00:00:00Z","1984-01-01T00:00:00Z","1985-01-01T00:00:00Z","1986-01-01T00:00:00Z","1987-01-01T00:00:00Z","1988-01-01T00:00:00Z","1989-01-01T00:00:00Z","1990-01-01T00:00:00Z","1991-01-01T00:00:00Z","1992-01-01T00:00:00Z","1993-01-01T00:00:00Z","1994-01-01T00:00:00Z","1995-01-01T00:00:00Z","1996-01-01T00:00:00Z","1997-01-01T00:00:00Z","1998-01-01T00:00:00Z","1999-01-01T00:00:00Z","2000-01-01T00:00:00Z","2001-01-01T00:00:00Z","2002-01-01T00:00:00Z","2003-01-01T00:00:00Z","2004-01-01T00:00:00Z","2005-01-01T00:00:00Z","2006-01-01T00:00:00Z","2007-01-01T00:00:00Z","2008-01-01T00:00:00Z","2009-01-01T00:00:00Z","2010-01-01T00:00:00Z","2011-01-01T00:00:00Z"],[null,null,null,null,null,null,5373.0887,5672.7578,5850.1103,5833.953,5982.0203,5865.889,6130.9712,6571.5125,6843.411,7080.4702,7307.0523,7607.3525,7879.251,8027.0659,8008.2576,8280.03,8516.2055,8863.0844,9086.0059,9425.8159,9845.908,10274.71,10770.666,11216.383,11337.437,11543.065,11836.422,12246.921,12622.959,12958.477,13206.392,13161.959,12757.898,13062.995,13299.045],[1126.817,1237.885,1382.269,1499.452,1637.7,1824.583,2030.13,2293.762,2562.228,2788.143,3126.837,3253.194,3534.606,3930.895,4217.47,4460.067,4736.354,5100.422,5482.146,5800.527,5992.094,6342.306,6667.35,7085.16,7414.655,7838.456,8332.362,8793.495,9353.484,9951.482,10286.167,10642.316,11142.212,11853.254,12622.959,13377.215,14028.675,14291.543,13973.681,14498.922,15075.667],[null,null,null,null,null,null,null,2143.3548,2365.474,2555.1514,2858.9068,3066.1345,3400.2073,3788.5853,4093.5371,4363.5653,4602.7936,4931.0054,5282.719,5584.9911,5786.9358,6195.4448,6523.2109,6938.922,7263.3637,7691.9577,8187.8022,8695.247,9217.9534,9740.5542,10058.885,10472.728,10912.782,11528.635,12217.205,12958.477,13633.141,13981.476,13852.805,14307.853,14760.919],[0.34932,0.36788,0.3892,0.38705,0.38623,0.40695,0.42566,0.4494,0.46345,0.46217,0.4739,0.4647,0.4857,0.5206,0.54214,0.56092,0.57887,0.60266,0.6242,0.63591,0.63442,0.65595,0.67466,0.70214,0.7198,0.74672,0.78,0.81397,0.85326,0.88857,0.89816,0.91445,0.93769,0.97021,1,1.02658,1.04622,1.0427,1.01069,1.03486,1.05356]]},"evals":[]}</script></p>
</div>
<div id="additional-explanation-and-formulas" class="section level3">
<h3>Additional Explanation and Formulas</h3>
<p>How do I use chain-type indexes (or chained-dollar) measures of economic activity, such as real GDP?</p>
<p>Use real (chain-type indexes or chain-dollar) estimates when you want to show how output or spending has changed over time. The percent changes in quantity indexes exactly match the percent changes in chained dollars, so they can be used interchangeably for making comparisons. Real estimates remove the effects of price changes, which can obscure changes in output or spending in current dollars. Examples of the use of real estimates include:</p>
<p>Source: <a href="http://www.bea.gov/faq/index.cfm?faq_id=79">www.bea.gov</a></p>
<dl>
<dt>Laspeyres Formula</dt>
<dd><span class="math">\[ \frac{ \sum_{i} p_{it}q_{i0}}{ \sum_{i} p_{i0}q_{i0}} \]</span>
</dd>
<dt>Paasche Formula</dt>
<dd><span class="math">\[ \frac{ \sum_{i} p_{it}q_{it}}{ \sum_{i} p_{i0}q_{it}} \]</span>
</dd>
<dt>Fisher formula</dt>
<dd><span class="math">\[ \sqrt{\frac{ \sum_{i} p_{it}q_{i0}}{ \sum_{i} p_{i0}q_{i0}} * \frac{ \sum_{i} p_{it}q_{it}}{ \sum_{i} p_{i0}q_{it}}} \]</span>
</dd>
</dl>
<p>Geometric average, combination of Paasche and Laspeyres</p>
<ul>
<li><span class="math">\(p_{i0}\)</span>: price at base period</li>
<li><span class="math">\(p_{it}\)</span>: price at observation period</li>
<li><span class="math">\(q_{i0}\)</span>: quantity at base period</li>
<li><span class="math">\(q_{it}\)</span>: quantity at observation period</li>
</ul>
<p>Source: <a href="http://www.stat.go.jp/english/data/cpi/1587.htm">www.stat.go.jp</a></p>
<p>See also: <a href="http://ec.europa.eu/eurostat/cache/metadata/EN/ei_qna_esms.htm#unit_measure1421916244135" class="uri">http://ec.europa.eu/eurostat/cache/metadata/EN/ei_qna_esms.htm#unit_measure1421916244135</a></p>
</div>
</div>
